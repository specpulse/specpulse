# v1.9.0 /sp-spec Example Output

## Scenario: Adding sections incrementally to minimal spec

### Command 1: Check current spec progress
```bash
/sp-spec progress 004
```

### Output 1
```
📊 Specification Progress: 004-payment-integration
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

Current Tier: Minimal (3 sections)
Overall Progress: 67% complete

✅ Completed Sections (2/3)
  ✓ What: "Integrate Stripe for payment processing" (1 sentence)
  ✓ Why: "Enable revenue generation and paid features" (1 sentence)

⚠️  In Progress Sections (1/3)
  ⏳ Done When: 1 of 3 checkboxes defined
     - Need 2 more acceptance criteria

🎯 Recommended Next Steps

Option 1: Complete minimal spec (fastest)
  → Add 2 more "Done When" criteria
  → Time: 30 seconds
  → Then generate plan: /sp-plan

Option 2: Expand to standard tier (recommended for implementation)
  → Command: specpulse expand 004 --to-tier standard
  → Adds: User Stories, Requirements, API Design, Dependencies
  → Time: 10-15 minutes
  → Better foundation for planning

Option 3: Go straight to complete tier (production-grade)
  → Command: specpulse expand 004 --to-tier complete
  → Adds: All standard + Security, Performance, Monitoring
  → Time: 30-45 minutes
  → Best for complex/critical features

💡 Tip: Most features work well with standard tier
```

---

### Command 2: Add specific section incrementally
```bash
specpulse spec add-section 004 requirements
```

### Output 2
```
📝 Adding Section: Requirements
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️  Note: Currently at minimal tier (3 sections)

Options:
  1. Expand to standard tier first (includes Requirements + more)
  2. Add Requirements section only

Your choice: 2

✨ Created checkpoint: before-add-requirements
   (Your current spec is safe - rollback anytime)

✓ Added section: ## Functional Requirements

📋 Section Template Added

<!-- LLM GUIDANCE:
- List 3-7 concrete requirements
- Use format: FR-001: User can [action] so that [benefit]
- Focus on WHAT, not HOW
- If security/performance mentioned, add specific requirements
-->

### Functional Requirements

**FR-001**: [Requirement description]
**FR-002**: [Requirement description]
**FR-003**: [Requirement description]

<!-- Add 2-4 more as needed -->

🎯 What to Fill In

This section defines WHAT the system must do (not HOW).

Good examples:
  ✓ FR-001: User can pay with credit card so that checkout is quick
  ✓ FR-002: System must handle failed payments gracefully
  ✓ FR-003: Users receive email confirmation after successful payment

Bad examples (too technical):
  ✗ Use Stripe SDK v3.2.1
  ✗ Implement webhook handler
  ✗ Create PaymentController class

💡 Tips for LLM:
  - Extract requirements from user's description
  - Each requirement should be testable
  - Use active voice: "User can...", "System must..."
  - Include both happy path and error cases

📊 Updated Progress: 004-payment-integration
  Sections: 4 total (3 minimal + 1 added)
  Complete: 50% (2/4 sections filled)
  Tier: Minimal + Custom

🔍 Check progress: specpulse spec progress 004
↩️  Undo if needed: specpulse checkpoint restore 004 before-add-requirements
```

---

### Command 3: Expand to next tier
```bash
specpulse expand 004 --to-tier standard
```

### Output 3
```
🚀 Expanding Specification Tier
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

From: Minimal (3 sections)
To: Standard (7 sections)

✨ Created checkpoint: before-expand-to-standard
   All your content is preserved!

📋 Content Preservation
  ✓ Keeping: What (already filled)
  ✓ Keeping: Why (already filled)
  ✓ Keeping: Done When (partially filled)
  ✓ Keeping: Functional Requirements (custom section you added)

➕ Adding New Sections
  + User Stories (with LLM guidance)
  + Technical Approach (with LLM guidance)
  + API Design (with examples)
  + Dependencies (with template)

✅ Expansion Complete!

📊 New Structure: 004-payment-integration

Standard Tier (7 sections):
  ✓ What (100%) - preserved
  ✓ Why (100%) - preserved
  ⚠️  Done When (33%) - preserved, needs 2 more items
  ✓ Functional Requirements (100%) - preserved
  ⭕ User Stories (0%) - new section, ready to fill
  ⭕ Technical Approach (0%) - new section, ready to fill
  ⭕ API Design (0%) - new section, ready to fill
  ⭕ Dependencies (0%) - new section, ready to fill

Overall Progress: 43% complete (3/7 sections)

🎯 Recommended Workflow

1. Fill new sections in order:
   a. User Stories (5 min)
      → Who benefits? What do they need?

   b. Technical Approach (3 min)
      → High-level: Stripe integration, webhook handling

   c. API Design (5 min)
      → Endpoints: POST /payments, GET /payments/:id

   d. Dependencies (2 min)
      → Feature 001-user-auth must be complete

2. Finish "Done When" (30 sec)
   → Add 2 more acceptance criteria

3. Validate when ready:
   specpulse validate 004 --partial

💡 LLM Tips for Each Section

Each new section has <!-- LLM GUIDANCE --> comments explaining:
  - What to write
  - How much detail
  - Format to use
  - Common mistakes to avoid

📂 Files Updated
  ✓ specs/004-payment-integration/spec-001.md
    (expanded from 45 lines → 180 lines with guidance)

🔍 Check detailed progress: specpulse spec progress 004
↩️  Rollback if needed: specpulse checkpoint restore 004 before-expand-to-standard

✨ Ready for incremental filling!
   Fill sections one at a time with: /sp-spec
```

---

## Key v1.9.0 Features Demonstrated

### 4.1 Incremental Spec Building
- ✅ `specpulse spec progress 004` - Shows completion percentage
- ✅ `specpulse spec add-section 004 requirements` - Add one section at a time
- ✅ `specpulse expand 004 --to-tier standard` - Progressive tier expansion
- ✅ Content preservation during expansion
- ✅ LLM guidance in templates

### 4.2 Spec Checkpoints (Versioning)
- ✅ Auto-checkpoint before expansion: `before-expand-to-standard`
- ✅ Auto-checkpoint before section add: `before-add-requirements`
- ✅ Rollback command: `specpulse checkpoint restore 004 <name>`
- ✅ List checkpoints: `specpulse checkpoint list 004`

### 4.3 Feature Dependencies
- ✅ Dependencies section in standard tier
- ✅ Track which features must complete first
- ✅ Ready to expand to: `specpulse deps show 004`

## User Experience Benefits

1. **No Overwhelm**: Start minimal (2-3 min), expand when ready
2. **Safe Changes**: Checkpoints before every major change
3. **Clear Progress**: Visual indicators (✓, ⚠️, ⭕) and percentages
4. **LLM-Friendly**: Guidance comments tell LLM exactly what to write
5. **Flexible**: Add sections incrementally or expand tiers all at once
6. **Recoverable**: Rollback to any checkpoint if needed
