# v1.9.0 /sp-spec Example Output

## Scenario: Adding sections incrementally to minimal spec

### Command 1: Check current spec progress
```bash
/sp-spec progress 004
```

### Output 1
```
ğŸ“Š Specification Progress: 004-payment-integration
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Current Tier: Minimal (3 sections)
Overall Progress: 67% complete

âœ… Completed Sections (2/3)
  âœ“ What: "Integrate Stripe for payment processing" (1 sentence)
  âœ“ Why: "Enable revenue generation and paid features" (1 sentence)

âš ï¸  In Progress Sections (1/3)
  â³ Done When: 1 of 3 checkboxes defined
     - Need 2 more acceptance criteria

ğŸ¯ Recommended Next Steps

Option 1: Complete minimal spec (fastest)
  â†’ Add 2 more "Done When" criteria
  â†’ Time: 30 seconds
  â†’ Then generate plan: /sp-plan

Option 2: Expand to standard tier (recommended for implementation)
  â†’ Command: specpulse expand 004 --to-tier standard
  â†’ Adds: User Stories, Requirements, API Design, Dependencies
  â†’ Time: 10-15 minutes
  â†’ Better foundation for planning

Option 3: Go straight to complete tier (production-grade)
  â†’ Command: specpulse expand 004 --to-tier complete
  â†’ Adds: All standard + Security, Performance, Monitoring
  â†’ Time: 30-45 minutes
  â†’ Best for complex/critical features

ğŸ’¡ Tip: Most features work well with standard tier
```

---

### Command 2: Add specific section incrementally
```bash
specpulse spec add-section 004 requirements
```

### Output 2
```
ğŸ“ Adding Section: Requirements
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸  Note: Currently at minimal tier (3 sections)

Options:
  1. Expand to standard tier first (includes Requirements + more)
  2. Add Requirements section only

Your choice: 2

âœ¨ Created checkpoint: before-add-requirements
   (Your current spec is safe - rollback anytime)

âœ“ Added section: ## Functional Requirements

ğŸ“‹ Section Template Added

<!-- LLM GUIDANCE:
- List 3-7 concrete requirements
- Use format: FR-001: User can [action] so that [benefit]
- Focus on WHAT, not HOW
- If security/performance mentioned, add specific requirements
-->

### Functional Requirements

**FR-001**: [Requirement description]
**FR-002**: [Requirement description]
**FR-003**: [Requirement description]

<!-- Add 2-4 more as needed -->

ğŸ¯ What to Fill In

This section defines WHAT the system must do (not HOW).

Good examples:
  âœ“ FR-001: User can pay with credit card so that checkout is quick
  âœ“ FR-002: System must handle failed payments gracefully
  âœ“ FR-003: Users receive email confirmation after successful payment

Bad examples (too technical):
  âœ— Use Stripe SDK v3.2.1
  âœ— Implement webhook handler
  âœ— Create PaymentController class

ğŸ’¡ Tips for LLM:
  - Extract requirements from user's description
  - Each requirement should be testable
  - Use active voice: "User can...", "System must..."
  - Include both happy path and error cases

ğŸ“Š Updated Progress: 004-payment-integration
  Sections: 4 total (3 minimal + 1 added)
  Complete: 50% (2/4 sections filled)
  Tier: Minimal + Custom

ğŸ” Check progress: specpulse spec progress 004
â†©ï¸  Undo if needed: specpulse checkpoint restore 004 before-add-requirements
```

---

### Command 3: Expand to next tier
```bash
specpulse expand 004 --to-tier standard
```

### Output 3
```
ğŸš€ Expanding Specification Tier
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

From: Minimal (3 sections)
To: Standard (7 sections)

âœ¨ Created checkpoint: before-expand-to-standard
   All your content is preserved!

ğŸ“‹ Content Preservation
  âœ“ Keeping: What (already filled)
  âœ“ Keeping: Why (already filled)
  âœ“ Keeping: Done When (partially filled)
  âœ“ Keeping: Functional Requirements (custom section you added)

â• Adding New Sections
  + User Stories (with LLM guidance)
  + Technical Approach (with LLM guidance)
  + API Design (with examples)
  + Dependencies (with template)

âœ… Expansion Complete!

ğŸ“Š New Structure: 004-payment-integration

Standard Tier (7 sections):
  âœ“ What (100%) - preserved
  âœ“ Why (100%) - preserved
  âš ï¸  Done When (33%) - preserved, needs 2 more items
  âœ“ Functional Requirements (100%) - preserved
  â­• User Stories (0%) - new section, ready to fill
  â­• Technical Approach (0%) - new section, ready to fill
  â­• API Design (0%) - new section, ready to fill
  â­• Dependencies (0%) - new section, ready to fill

Overall Progress: 43% complete (3/7 sections)

ğŸ¯ Recommended Workflow

1. Fill new sections in order:
   a. User Stories (5 min)
      â†’ Who benefits? What do they need?

   b. Technical Approach (3 min)
      â†’ High-level: Stripe integration, webhook handling

   c. API Design (5 min)
      â†’ Endpoints: POST /payments, GET /payments/:id

   d. Dependencies (2 min)
      â†’ Feature 001-user-auth must be complete

2. Finish "Done When" (30 sec)
   â†’ Add 2 more acceptance criteria

3. Validate when ready:
   specpulse validate 004 --partial

ğŸ’¡ LLM Tips for Each Section

Each new section has <!-- LLM GUIDANCE --> comments explaining:
  - What to write
  - How much detail
  - Format to use
  - Common mistakes to avoid

ğŸ“‚ Files Updated
  âœ“ specs/004-payment-integration/spec-001.md
    (expanded from 45 lines â†’ 180 lines with guidance)

ğŸ” Check detailed progress: specpulse spec progress 004
â†©ï¸  Rollback if needed: specpulse checkpoint restore 004 before-expand-to-standard

âœ¨ Ready for incremental filling!
   Fill sections one at a time with: /sp-spec
```

---

## Key v1.9.0 Features Demonstrated

### 4.1 Incremental Spec Building
- âœ… `specpulse spec progress 004` - Shows completion percentage
- âœ… `specpulse spec add-section 004 requirements` - Add one section at a time
- âœ… `specpulse expand 004 --to-tier standard` - Progressive tier expansion
- âœ… Content preservation during expansion
- âœ… LLM guidance in templates

### 4.2 Spec Checkpoints (Versioning)
- âœ… Auto-checkpoint before expansion: `before-expand-to-standard`
- âœ… Auto-checkpoint before section add: `before-add-requirements`
- âœ… Rollback command: `specpulse checkpoint restore 004 <name>`
- âœ… List checkpoints: `specpulse checkpoint list 004`

### 4.3 Feature Dependencies
- âœ… Dependencies section in standard tier
- âœ… Track which features must complete first
- âœ… Ready to expand to: `specpulse deps show 004`

## User Experience Benefits

1. **No Overwhelm**: Start minimal (2-3 min), expand when ready
2. **Safe Changes**: Checkpoints before every major change
3. **Clear Progress**: Visual indicators (âœ“, âš ï¸, â­•) and percentages
4. **LLM-Friendly**: Guidance comments tell LLM exactly what to write
5. **Flexible**: Add sections incrementally or expand tiers all at once
6. **Recoverable**: Rollback to any checkpoint if needed
